{"version":3,"file":"src_app_inicio_inicio_module_ts.js","mappings":"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","sources":["./src/app/inicio/inicio-routing.module.ts","./src/app/inicio/inicio.module.ts","./src/app/inicio/inicio.page.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { InicioPage } from './inicio.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: InicioPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class InicioPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { InicioPageRoutingModule } from './inicio-routing.module';\r\n\r\nimport { InicioPage } from './inicio.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    ReactiveFormsModule,\r\n    IonicModule,\r\n    InicioPageRoutingModule\r\n  ],\r\n  declarations: [InicioPage]\r\n})\r\nexport class InicioPageModule {}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport{\r\n  FormGroup,\r\n  FormControl,\r\n  Validators,\r\n  FormBuilder\r\n}from'@angular/forms';\r\nimport { Route, Router, RouterLink } from '@angular/router';\r\nimport { ApiService } from '../api.service';\r\nimport { BaseService } from '../services/base.service';\r\n\r\n\r\n\r\n@Component({\r\n  selector: 'app-inicio',\r\n  templateUrl: './inicio.page.html',\r\n  styleUrls: ['./inicio.page.scss'],\r\n})\r\nexport class InicioPage implements OnInit {\r\n\r\n  users: any = [{\r\n    id_usuario: '',\r\n    nombre: '',\r\n    clave: '',\r\n    id_rol: ''\r\n  }]\r\n\r\n  users1: any = [{\r\n    id_usuario: '',\r\n    nombre: '',\r\n    clave: '',\r\n    id_rol: ''\r\n  }]\r\n\r\n  ramo: any = [{\r\n    id_asignatura: '',\r\n    sigla: '',\r\n    nombre: '',\r\n  }]\r\n\r\n  seccion: any = [{\r\n    id_seccion: '',\r\n    sigla: '',\r\n  }]\r\n\r\n  Asigsecci: any = [{\r\n    id_asig_secc: '',\r\n    id_asignatur: '',\r\n    id_seccion: '',\r\n    id_usuario: '',\r\n  }]\r\n\r\n  usuario= \"\";\r\n  contrasena=\"\";\r\n\r\n\r\n  formularioLogin: FormGroup;\r\n\r\n  constructor(public fb: FormBuilder, private base: BaseService, public api: ApiService, private router:Router) {\r\n\r\n    /*this.formularioLogin = this.fb.group({\r\n      'usuario': new FormControl(\"\", [Validators.required, Validators.minLength(4)]),\r\n      'contrasena': new FormControl(\"\",Validators.required)\r\n    }\r\n    )*/\r\n    \r\n  }\r\n\r\n  ngOnInit() {\r\n    this.api.getUsuario().subscribe((res)=>{\r\n      this.users = res;\r\n      \r\n      //console.log(res)\r\n      for (var i = 0; i < this.users.length; i++){\r\n        //this.servicioBD.presentAlert(x.nombre);\r\n        this.base.registrarUsuario(this.users[i].id_usuario,this.users[i].nombre,this.users[i].clave,this.users[i].id_rol);\r\n      }\r\n\r\n      \r\n     \r\n    });\r\n\r\n\r\n    this.base.dbState().subscribe((res)=>{\r\n\r\n\r\n      if(res){\r\n        \r\n\r\n        //me subscribo al observable de la lista de noticias\r\n        this.base.fetchUsuarios().subscribe((item)=>{\r\n\r\n          this.users1 = item;\r\n\r\n        })\r\n      }\r\n    })\r\n\r\n    this.api.getSeccion().subscribe((res)=>{\r\n      this.seccion = res;\r\n      this.base.presentAlert(JSON.stringify (this.seccion))\r\n      //console.log(res)\r\n      for(let x of this.seccion){\r\n        //this.servicioBD.presentAlert(x.nombre);\r\n        this.base.registrarSeccion(x.id_seccion, x.sigla);\r\n      }\r\n     \r\n    });\r\n\r\n    this.api.getAsigsecci().subscribe((res)=>{\r\n      this.Asigsecci = res;\r\n      this.base.presentAlert(JSON.stringify (this.Asigsecci))\r\n      //console.log(res)\r\n      for(let x of this.Asigsecci){\r\n        //this.servicioBD.presentAlert(x.nombre);\r\n        this.base.registrarasig_secc(x.id_asig_secc,  x.id_usuario,x.id_asignatura, x.id_seccion);\r\n      }\r\n     \r\n    });\r\n\r\n    this.api.getRamos().subscribe((res)=>{\r\n      this.ramo = res;\r\n      this.base.presentAlert(JSON.stringify (this.ramo))\r\n      //console.log(res)\r\n      for(let x of this.ramo){\r\n        //this.servicioBD.presentAlert(x.nombre);\r\n        this.base.registrarasignatura(x.id_asignatura, x.sigla, x.nombre);\r\n      }\r\n     \r\n    });\r\n\r\n     \r\n\r\n  }\r\n\r\n  login(){\r\n    \r\n    this.base.presentAlert(JSON.stringify (this.users1))\r\n     for(let i of this.users){\r\n      this.base.presentAlert(i.nombre)\r\n\r\n\r\n\r\n      if (i.nombre != this.usuario){\r\n        this.base.presentAlert(\"datos incorrectos\")\r\n\r\n\r\n      }else{\r\n        if(i.clave != this.contrasena){\r\n          \r\n          this.base.presentAlert(\"datos incorrectos\")\r\n        }else{\r\n          if(i.id_rol == 1){\r\n            this.router.navigate(['/prof'])\r\n          }else{\r\n            this.router.navigate(['/alum'])\r\n          }\r\n        }\r\n      }\r\n\r\n\r\n\r\n\r\n\r\n\r\n      /*if (i.id_rol = 1){\r\n        this.router.navigate(['/prof'])\r\n        }\r\n        else{\r\n          this.router.navigate(['/alum'])\r\n        }*/ \r\n      }\r\n      \r\n\r\n\r\n     }\r\n     \r\n  }\r\n \r\n\r\n\r\n\r\n\r\n"],"names":[],"sourceRoot":"webpack:///","x_google_ignoreList":[]}